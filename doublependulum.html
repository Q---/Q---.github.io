<!DOCTYPE html>
<meta charset="UTF-8">

<html>
	<head>
		<title>Michael's Lab</title>
		<link rel = stylesheet href = "main.css" type = "text/css">

	</head>

	<body>

		<h1>Michael's Lab</h1>
		<script src="navbar.js"></script>

		<h2>Double Pendulum</h2>

		<canvas id="canvas" width="500" height="500" style="position: absolute;"></canvas>
		<canvas id="tracer" width="500" height="500"></canvas>
		<div id="controls">
			<input type="checkbox" id="circlebounds" onclick="circlebounds = document.getElementById('circlebounds').checked"> Draw circle bounds
			<input type="checkbox" id="cherrytracer" onclick="cherrytracer = document.getElementById('cherrytracer').checked"> Draw cherry tracer
			<input type="checkbox" id="connections" checked="true" onclick="connections = document.getElementById('connections').checked"> Draw connections
			<input type="checkbox" id="paused" onclick="paused = document.getElementById('paused').checked"> Pause
			<br>
			<button type="button" onclick="ctx_tracer.clearRect(0, 0, cvs_tracer.width, cvs_tracer.height);">Clear cherry tracer</button><br>
			Simulation parameters:<br>
			<input type="number" id="ang1" value="90"> Angle 1<br>
			<input type="number" id="ang2" value="180"> Angle 2<br>
			<input type="number" id="vang1" value="0"> Radial Velocity 1<br>
			<input type="number" id="vang2" value="0"> Radial Velocity 2<br>
			<input type="number" id="L1" value="10"> Length 1<br>
			<input type="number" id="L2" value="10"> Length 2<br>
			<input type="number" id="M1" value="1"> Mass 1<br>
			<input type="number" id="M2" value="1"> Mass 2<br>
			<button type="button" onclick="reinitialize();">Begin new simulation</button><br>
			Advanced options:<br>
			<input type="number" id="g" value="98.0"> Gravity<br>
			<input type="number" id ="fps_in" value="60"> Frames per second<br>
			<input type="number" id ="steps" value="10"> Steps per frame<br>
		</div>

		<div id="fps"></div>

		<p>
		This is a simulation of 2 bobs, connected by massless, perfectly rigid rods to a central pivot under the force of uniform gravity.  In addition to being the motivating example for chaotic systems (in addition to the Lorenz system, its fluid mechanics counterpart), the double pendulum represents some interesting challenges.
		</p>

		<p>
		One challenge, is that when end mass is much larger than central mass, the problem becomes stiff, and the step-size must decrease quite a bit.  To counter this, we use a RK8 numerical integrator called Verner's Method.  In my experience, it is usually more efficient to have higher-order numerical integrators, rather than smaller step-sizes.  Note, this method is only necessary when dealing with systems with those parameters.
		</p>

		<p>
		The biggest challenge, however, is the utter complexity of the controlling equations of motion.  As well, it's non-trivial to simplify the equations once you find them.  This is why knowledge of how to symbolically manipulate differential equations in Mathematica (or some other CAS) is very important.
		</p>

		<p>
		As well, Mathematica can greatly simplify even very long expressions in short time, as well as find common subexpressions between multiple expressions to simplify code.  This is a very astonishing experimental utility of Mathematica, and although it doesn't give globally optimum results, it beats what I can do by hand.
		</p>

		<p>
		To clarify, that function of Mathematica tells you to define interim variables for calculation, so you can re-use them in multiple expressions.  This is an astoundingly complicated problem.  The function is: Experimental`OptimizeExpression[].
		</p>

		<p>
		It would take too long to comprehensively describe the derivation of this system here, and as such I will just post my results in the form of this <a href="doublependulum.pdf">Mathematica-generated pdf</a>.
		</p>



		<div id = "footer"></div>

		<script type="text/javascript" src="doublependulum.js"></script>
	</body>
</html>