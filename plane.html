<!DOCTYPE html>
<meta charset="UTF-8"> 

<html>
	<head>
		<title>Michael's Lab</title>
		<link rel = stylesheet href = "main.css" type = "text/css">
		<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

	</head>

	<body>

		<h1>Michael's Lab</h1>
		<script src="csi.js"></script>
		<script src="navbar.js"></script>
		<div data-include="navbar.html"></div>

		<h2>3d Plane Fitting</h2>

		$$
		\min_{\alpha,\beta} \sum_{i=1}^{n} (y_i - \alpha - \beta x_i)^2
		$$

		<p>
		Here, we numerically solve the least squared distance minimization problem with a set of 3-tuples, finding one unique 3-tuple representing one flat surface embedded in that 3-space.
		</p>

		The algorithm:
		<ol>
			<li>Calculate the weighted average position of all densities.</li>
			<li>Select the closest N points around this average position.</li>
			<li>Perform the least squared optimizer on this set of points.</li>
		</ol>

		<p>
			<b>Click the 'Browse' button to upload and analyze your own MRC file.</b>
		</p>

		<p>
			<input type="file" accept=".mrc" id="mrc_file"></input>
		</p>

		<p>
			Density threshold: <input type="text" value="0.8" id="density_threshold"></input>
		</p>

		<canvas id="canvas" width="500" height="500"></canvas>

		<div id = "footer"></div>

		<script type="text/javascript" src="plane.js"></script>
	</body>
</html>